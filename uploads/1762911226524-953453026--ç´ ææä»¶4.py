from gtts import gTTS

# 定义文本到语音转换的函数
def text_to_speech(text, lang='zh-cn'):  # 默认设置为中文语言
    # 使用gTTS创建语音对象，需要传入文本和语言代码
    tts = gTTS(text=text, lang=lang)
    # 定义保存语音文件的文件名，这里保存在当前目录下
    filename = 'speech.mp3'
    # 保存语音文件
    tts.save(filename)
    # 返回保存的文件名，以便于后续使用
    return filename

# 示例文本，这里是一段中文文本
text = '''吾辈青年,正处人生最阔别曲折之路程。盖初中时节,非同儿时之拊掌而歌,亦异青年之时髦逸兴。此时期,吾等皆如彷徨醉人之蝶,方才挣脱蛹谆,而落于世间红尘,身心俱陷艰难挣扎之景况。吾之年纪,谓之"少年"。而少年时期,确乎是万分关键。盖吾等于斯阶段,渐已摆脱幼稚期之无知无觉,而亦未至于青年时之洞见世界。于是,吾等多起微小猜疑,而投诸世间求一询索。学业成绩,固然为当下一大挂碍。吾曾因循常渠,而付诸勤奋。然误以为考试分数,乃是评判吾等之唯一标准。待至微陷中游,乃有种身心失落之感。吾当时常蹙眉沉思,不知所从,亦几至于灰心浑浑噩噩而止。细味深思,吾悟人生路途,实为曲折曲折,未可一概而论。盖吾等的成长,实为一柄尚待开锻之赤热铁砧。假使因喘气不继而遽止谆拊,此铁砧定将滋生锈垢,遂成一块腐钝之物。吾等岂不为天地所负?昔日纵使素有聪敏之资,假使止步不前,那纵超群绝伦,亦将终为过眼云烟。由是,吾等唯有含辛茹苦,矻矻奋斗。当勉力竭诚工夫于世间万事万物,以求赐予人生万种可能。考试固为重要,然谆单以分数为评判标准,胜似断章取义,无异大错而特错矣。盖吾等所求,不应止于儿时幻梦,须有高于云霄之远见。世间诚苦吾心扉常常阅怖,但于此乃是成长必经之过程。近日社会,艰难疏浚艰难,而我等正是其中最青蘖之一枝。假使能牢牢抓住手中之磋盘,历尽世间铀铜,方能最终成为一枝桐华凌云之木,为天地造物垂惭多馀。吾等年少多畅怀,长路漫漫,障碍亦然重重。但于悠悠千载之后,俨然会为不世之奇斯大能哉!吾等共勉之!'''
# 调用text_to_speech函数，将文本转换为语音，并指定使用中文
filename = text_to_speech(text, 'zh-cn')

# 打印出保存的文件路径，确认文件已经生成
print(f"Generated speech saved to {filename}")